/*
 * This source file was generated by the Gradle 'init' task
 */
package ifsc.poo;
import ifsc.poo.catalogo.Catalogo;
import ifsc.poo.catalogo.ControleFilme;
import ifsc.poo.catalogo.Filme;
import ifsc.poo.filaAtendimento.Atendimento;
import ifsc.poo.filaAtendimento.Cliente;
import ifsc.poo.filaAtendimento.Controle;
import ifsc.poo.filaAtendimento.Solicitacao;

import java.util.*;

// A comunicação com o usuário deve ser através do terminal
// usando um menu iterativo, através do qual é


public class App {
    public static void main(String[] args) {
        Scanner teclado = new Scanner(System.in);
        int principalOpcao = -1;

        // Menu - Filmes
        Set<Filme> filmes = new HashSet<>();

        // para conter um filme na lista
        filmes.add(new Filme(1985, "De Volta Para o Futuro", "Aventura"));
        filmes.add(new Filme(1985, "Clube dos Cinco", "Drama"));
        filmes.add(new Filme(2008, "Mamma Mia!\n", "Romance"));

        Catalogo catalogoMenu = new Catalogo(filmes);
        ControleFilme controleMenu = new ControleFilme(catalogoMenu);
        controleMenu.executar();


        // Menu Fila de atendimento
        System.out.println("Fila de atendimento - Iniciar");

        List<Cliente> clientesAtendidos = new ArrayList<>();
        Queue<Solicitacao> clientesFila = new LinkedList<>();
        Set<Cliente> clientesRegistrados = new HashSet<>();

        Scanner scanner = new Scanner(System.in);
        Atendimento atendimento = new Atendimento(clientesAtendidos, clientesFila, clientesRegistrados);
        Controle filaAtendimento = new Controle(atendimento, scanner);

        filaAtendimento.executar(); // menu do controle

        // Menu Principal - App
        do {
            System.out.println("Menu Principal");
            System.out.println("1 - Gerenciar Filmes");
            System.out.println("2 - Gerenciar Fila de Atendimento");
            System.out.println("0 - Sair");
            System.out.print("Escolha uma opção: ");
            principalOpcao = teclado.nextInt();
            teclado.nextLine();

            switch (principalOpcao) {
//                case 1:
//                    controleMenu.executar();
//                    break;
                case 2:
                    filaAtendimento.executar();
                    break;
                case 3:
                    System.out.println("Programa encerrado.");
                default:
                    System.out.println("Opção inválida, tente de novo!");
            }


        } while (principalOpcao != 0);

        teclado.close();
    }
}
